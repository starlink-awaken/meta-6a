# 代码审查

**场景**：用户写了代码，需要检查质量

**类型**：common

**用户输入**：
```
验证这段代码的质量：
```javascript
function getUser(id) {
  return db.query('SELECT * FROM users WHERE id = ?', [id]);
}
```
```

**AI 输出**：
```
✅ 6A快速验证

📊 问题识别
- 核心问题：代码功能正确但缺少防护
- 完整性：不完整 - 缺少错误处理、参数验证、日志
- 紧急程度：中 - 能运行但有隐患
- 影响范围：数据访问层

🎯 关键建议
1. 添加参数验证：检查 id 是否为空或非法
2. 错误处理：try-catch 或 Promise.catch
3. 字段选择：SELECT * 应该明确需要的字段

💡 下一步行动
优化代码后添加单元测试，覆盖正常和异常场景。

⚠️ 风险提示
缺少错误处理可能导致应用崩溃，SELECT * 可能泄露敏感字段。
```

**价值**：
- 展示代码质量验证的关键维度
- 适用于代码审查和安全检查
- 强调错误处理、参数验证、字段选择的重要性
